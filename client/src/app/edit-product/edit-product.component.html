<div class="container">
  <mat-card class="form-card">
    <h1>Edit Product</h1>

    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div>
        <mat-form-field class="full-width">
          <mat-label>Product Name</mat-label>
          <input matInput formControlName="productName" />
          <mat-hint>Minimum 3 & Maximum 50 Characters</mat-hint>
          <mat-error
            *ngIf="productForm.get('productName')!.hasError('required')"
          >
            Product Name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Short Code</mat-label>
          <input matInput formControlName="shortCode" />
          <mat-hint>Minimum 3 & Maximum 50 Characters</mat-hint>
          <mat-error *ngIf="productForm.get('shortCode')!.hasError('required')">
            Short Code is required
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Category</mat-label>
          <mat-select formControlName="category">
            <mat-option value="Sports">Sports</mat-option>
            <mat-option value="Casual">Casual</mat-option>
            <mat-option value="Running">Running</mat-option>
          </mat-select>
          <mat-error *ngIf="productForm.get('category')!.hasError('required')">
            Category is required
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Price</mat-label>
          <input matInput formControlName="price" />
          <mat-hint>Must be greater than 0</mat-hint>
          <mat-error *ngIf="productForm.get('price')!.hasError('required')">
            Price is required
          </mat-error>
        </mat-form-field>

        <button
          mat-raised-button
          type="submit"
          [disabled]="productForm.invalid"
          color="primary"
        >
          Update Product
        </button>
      </div>

      <div>
        <mat-form-field class="full-width">
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="createdDate"
            [max]="maxDate"
          />
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="productForm.get('shortCode')!.hasError('required')">
            Date is required
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Quantity</mat-label>
          <input matInput formControlName="quantity" type="number" />
          <mat-hint>Must be greater than 0</mat-hint>
          <mat-error *ngIf="productForm.get('quantity')!.hasError('required')">
            Quantity is required
          </mat-error>
          <mat-error *ngIf="productForm.get('quantity')!.hasError('min')">
            Quantity cannot be less than 1
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Origin</mat-label>
          <mat-select formControlName="origin">
            <mat-option value="Bangladesh">Bangladesh</mat-option>
            <mat-option value="China">China</mat-option>
            <mat-option value="Vietnam">Vietnam</mat-option>
          </mat-select>
          <mat-error *ngIf="productForm.get('origin')!.hasError('required')">
            Origin is required
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Description</mat-label>
          <input matInput formControlName="description" />
          <mat-hint>Minimum 3 & Maximum 50 Characters</mat-hint>
        </mat-form-field>

        <div>
          <input
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            #fileUpload
            hidden
          />
          <button
            mat-stroked-button
            type="button"
            color="primary"
            (click)="fileUpload.click()"
          >
            <mat-icon>add_a_photo</mat-icon>
            Choose
          </button>
        </div>
      </div>
    </form>
  </mat-card>
</div>
